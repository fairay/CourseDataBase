{% extends "base.html" %}

{% load static %}
{% block head_block %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static '\css\unlogin.css' %}"/>
{% endblock %}

{% block head_title %} Регистрация {% endblock %}
{% block top_title %} Регистрация {% endblock %}

{% block content %}
    <h3> Заполните форму регистрации </h3>

    <form method="post", action="{% url 'auth:register'%}">
        {% csrf_token %}
        <p><table>
            <tr title="Формат: прописные латинские буквы, цифры, _">
                <td> Логин </td>
                <td> <input type="text" name="login" value="{{ pre_data.login }}" pattern="[a-z0-9_]{1-64}" required> </td>
            </tr>

            <tr title="Формат: латинские буквы, цифры, _!#$%&">
                <td> Пароль </td>
                <td> <input type="password" name="password" value="{{ pre_data.password }}" pattern="[A-Za-z0-9_!#$%&]{1-64}" required> </td>
            </tr>

            <tr>
                <td> Должность </td>
                <td> <select name="perstype" required>
                    <option disabled value="" selected>Выберите должность</option>

                    {% for key, value in pers_types.items %}
                        <option value="{{key}}"> {{value}} </option>
                    {% endfor %}
                </select></td>
            </tr>
        </table></p>
        
        <p><table>
            <tr>
                <td> Имя </td>
                <td> <input type="text" name="forename" value="{{ pre_data.forename }}" pattern="[А-Яа-яA-Za-z ]{1-64}" required> </td>
            </tr>

            <tr>
                <td> Фамилия </td>
                <td> <input type="text" name="surname" value="{{ pre_data.surname }}" pattern="[А-Яа-яA-Za-z ]{1-64}" required> </td>
            </tr>

            <tr>
                <td> Пол </td>
                <td>
                    <div class="form_gender_btn">
                        {% if "{{ pre_data.gender }}" is "м" %}
                        <input id="gender-1" type="radio" name="gender" value="м" checked>
                        {% else %}
                        <input id="gender-1" type="radio" name="gender" value="м">
                        {% endif %}
                        <label for="gender-1">Мужской</label>
                    </div>
                    
                    <div class="form_gender_btn">
                        {% if "{{ pre_data.gender }}" is "ж" %}
                        <input id="gender-2" type="radio" name="gender" value="ж" checked>
                        {% else %}
                        <input id="gender-2" type="radio" name="gender" value="ж">
                        {% endif %}
                        <label for="gender-2">Женский</label>
                    </div>
                </td>
            </tr>

            <tr>
                <td> Дата рождения </td>
                <td> <input type="date" name="dob" value="{{ pre_data.dob }}" required> </td>
            </tr>

            <tr>
                <td> Телефон </td>
                <td> <input type="tel" name="phonenumber" value="{{ pre_data.phonenumber }}"
                    placeholder="+7 000 123 4567" pattern="\+7 [0-9]{3} [0-9]{3} [0-9]{4}" required> </td>
            </tr>
        </table></p>

        <div>
            <button type="submit">Создать аккаунт</button>
        </div>
    </form>

{% endblock %}
